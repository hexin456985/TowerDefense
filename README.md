Towerdenfense 塔防游戏 

一．项目说明 
  Fantasy是我们设计的一个塔防游戏的桌面程序，主要利用Qt作为程序开发的框架。游戏规则与大部分塔防游戏相同，通过在地图上建造防御塔等建筑物，以阻止游戏中敌人进攻的策略型游戏，且我们设计多种形态和特性的防御塔和怪兽，和几个不同难度的地图，还加入了升级防御塔的功能，为整体游戏增加趣味性和耐玩性。

二．项目工具 
版本控制：Git 
开发环境：QT 5.9.0 
编程语言：C++ 17 
框架结构：MVVM

三. 项目设计
1.游戏设计
（1）游戏显示界面
游戏开始界面
游戏选关界面
游戏主界面（根据选关不同会有不同的主界面）

（2）游戏规则
玩家通过金币在可以放置的范围放置防御塔，分别有四种不同形态属性的防御塔：
普通塔（发射箭矢），冰冻塔（发射冰冻光束，具有缓速功能），地狱塔（发射火球，高伤害近距离），迫击炮塔（发射火炮，高伤害远程塔）
建造塔所需要的金币递增，玩家通过击败怪物取得金币
玩家不仅可以放置防御塔，还可以升级按键和删除按键分别升级防御塔和删除已放防御塔，防御塔总共可以升级至两级，升级后各项数据都会有相应的提升

玩家需要面对怪物的进攻且防御主塔
怪物总共有五种能力不同的怪物，且会按照地图中的路径移动
怪物按照能力依次分为：普通怪，血量低高移速怪，血量高移速慢怪，高赏金怪，大Boss
怪物群会随着波次的不同和关卡的升级而产生改变
怪物路径的终点为己方的主塔，主塔会随着血量的降低而产生5种不同形态的变化，用来提示玩家主塔的血量变化

（3）其他配置
音乐配置：开场音乐，失败音乐，胜利音乐，有序进行音乐等
音效配置：防御塔攻击音效，怪物受伤音效等

2.游戏实现思路

2.1 游戏构成

玩家飞机
普通NPC飞机、Boss NPC飞机
玩家子弹，NPC子弹
飞行界面
子弹包、炮弹包、技能包等（选做）
2.2 主要游戏事件及实现

初始化： - 普通NPC飞机在飞行界面一端随机位置、随机时间出现——通过随机函数定义出现位置及时间 - 玩家飞机和Boss NPC飞机——构造函数定义属性
发射子弹： - 单独定义子弹类，在类中定义飞机属性获取发射子弹的飞机信息，便于获取子弹的初始位置 - 通过关联键盘事件，决定子弹是否显示（发射）、改变位置
子弹击中飞机，NPC飞机与玩家飞机碰撞： - 子弹击中飞机，NPC飞机与玩家飞机碰撞都通过碰撞检测算法判断 - 检测某个飞机对象的碰撞时（例如玩家飞机），在定义该对象的类中声明碰撞检测函数，检测其他子弹、飞机是否与该飞机对象发生碰撞，并相应的改变碰撞主题的属性
飞机、子弹的消亡 - 子弹击中目标，NPC、子弹飞出游戏界面等，都通过改变飞行物的显示属性，创造消亡行为
发动大招 - 在发动大招的同时，直接改变敌方飞机属性，无需检测碰撞行为
子弹包、炮弹包（选做） - 通过碰撞检测算法进行拾取 - 改变子弹杀伤力、数量等属性定义技能

三．框架描述 框架采用MVVM模式，分为View,View Model与Model层，View层主要负责Window的交互界面部分和有关显示部分的内容；View Model负责作为上下层的接口，和进行数据转换，在游戏中主要体现在按钮输入，防御塔攻击与升级，重生怪物与巡线，游戏路径分析等方面，Model层负责底层数据处理，在游戏中主要体现在怪物血量计算，防御塔相关数值，主塔生命值计算，怪物攻击波计算等数值设计方面。

四．实施方案 1.第一轮迭代：完成防御塔，主塔，子弹，怪物的基础设定和有关交互界面的设定 2.第二轮迭代：完成开始画面，选关画面，开始、选关功能，游戏声音 3.第三轮迭代：完成游戏画面，设计地图中的防御塔可放位置和怪物路线 4.第四轮迭代：完成剩余细小功能：删除防御塔，升级防御塔，怪物波次等 5.第五轮迭代：优化游戏细节，修复遇到的问题

五．项目分工： View: 曾致语 ；View Model: 孙家阳；Model: 朱允怀
